---
title: Indexing
format: live-html
engine: knitr
webr:
  packages:
    - dplyr
output: 
  learnr::tutorial:
    progressive: true
toc: true
---

Having now seen the most common data structures in R, let's briefly discuss how to index them. By indexing, we're referring to the process of selecting a subset of elements from a larger data structure, perhaps to read these values, or overwrite existing elements in a specific location.
## Vectors
As we saw earlier, vectors are simply 1D structures with values of a single data type. To index for vectors, one can use scalar values or feed in another index vector. For example,
```{r}
vec1 <- c(1:10)
# We want to return values 1, 5 and 8
idx <- c(1,5,8)
vec2 <- vec1[idx]
vec2
```
`[]` notation is used here to perform indexing. Since vectors are 1D, indices are in only 1D.
To overwrite values at the indexed locations, just specify the indexed values to the left and the new values (of the same shape or of size 1!) on the right
```{r}
vec1[idx] = 100
vec1
```

## Matrices and arrays
While matrices generalise vectors into 2D, the mechanism of indexing remains the same, using `[]` notation. However, to index in 2D, we must pass 2 values, the first corresponding to axis 1, rows, and the second, columns as `[row(s),col(s)]`. For example:
```{webr}
#| exercise: mat_ind
mat1 <- matrix(1:20,nrow = 4)
# Return values in the 1:3 rows and columns
idx <- ________
mat2 <- mat1[idx,idx] 
# Now replace the values with the value 5
mat3 <- ____
```
You can also use label and numeric indexing (e.g. mat$column[idx]) 

Given the structure of an array v. a matrix, create an array of size [5,6,6], populating it with values of your choosing and index the first three values in each dimension.
```{webr}
#| exercise: arr_ind
arr1 <- array(_______)

idx <- ________
arr2 <- arr1[___] 
# Now replace the values with the value 5
arr3 <- ____
```
You can also use label and numeric indexing (e.g. mat$column[idx]) 

## Data frames 
You can use the same indexing as matrices, including labels and numerical indices
